-- MySQL Script generated by MySQL Workbench
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
-- -----------------------------------------------------
-- Schema safety_glass
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema project_pyrobel
-- -----------------------------------------------------
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`sousTypeChute`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`sousTypeChute` ;

CREATE TABLE IF NOT EXISTS `mydb`.`sousTypeChute` (
  `idSousTypeChute` INT NOT NULL AUTO_INCREMENT,
  `nomSousTypeChute` VARCHAR(45) NULL,
  PRIMARY KEY (`idSousTypeChute`),
  UNIQUE INDEX `idSousTypeChute_UNIQUE` (`idSousTypeChute` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`typeChute`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`typeChute` ;

CREATE TABLE IF NOT EXISTS `mydb`.`typeChute` (
  `idTypeChute` INT NOT NULL AUTO_INCREMENT,
  `nomTypeChute` VARCHAR(45) NULL,
  PRIMARY KEY (`idTypeChute`),
  UNIQUE INDEX `idTypeChute_UNIQUE` (`idTypeChute` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`type`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`type` ;

CREATE TABLE IF NOT EXISTS `mydb`.`type` (
  `idType` INT NOT NULL,
  `sousTypeChute_idSousTypeChute` INT NOT NULL,
  `typeChute_idTypeChute` INT NOT NULL,
  PRIMARY KEY (`idType`),
  INDEX `fk_type_sousTypeChute1_idx` (`sousTypeChute_idSousTypeChute` ASC),
  INDEX `fk_type_typeChute1_idx` (`typeChute_idTypeChute` ASC),
  CONSTRAINT `fk_type_sousTypeChute1`
    FOREIGN KEY (`sousTypeChute_idSousTypeChute`)
    REFERENCES `mydb`.`sousTypeChute` (`idSousTypeChute`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_type_typeChute1`
    FOREIGN KEY (`typeChute_idTypeChute`)
    REFERENCES `mydb`.`typeChute` (`idTypeChute`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`emplacement`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`emplacement` ;

CREATE TABLE IF NOT EXISTS `mydb`.`emplacement` (
  `idEmplacement` INT NOT NULL AUTO_INCREMENT,
  `positionEmplacement` VARCHAR(45) NULL,
  PRIMARY KEY (`idEmplacement`),
  UNIQUE INDEX `idEmplacement_UNIQUE` (`idEmplacement` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`emplacementUsine`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`emplacementUsine` ;

CREATE TABLE IF NOT EXISTS `mydb`.`emplacementUsine` (
  `idEmplacementUsine` INT NOT NULL AUTO_INCREMENT,
  `nomEmplacement` VARCHAR(45) NULL,
  PRIMARY KEY (`idEmplacementUsine`),
  UNIQUE INDEX `idEmplacementUsine_UNIQUE` (`idEmplacementUsine` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`rack`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`rack` ;

CREATE TABLE IF NOT EXISTS `mydb`.`rack` (
  `idRack` INT NOT NULL AUTO_INCREMENT,
  `numRack` VARCHAR(45) NULL,
  `emplacement_idEmplacement` INT NOT NULL,
  `emplacementUsine_idEmplacementUsine` INT NOT NULL,
  PRIMARY KEY (`idRack`),
  UNIQUE INDEX `idRack_UNIQUE` (`idRack` ASC),
  INDEX `fk_rack_emplacement1_idx` (`emplacement_idEmplacement` ASC),
  INDEX `fk_rack_emplacementUsine1_idx` (`emplacementUsine_idEmplacementUsine` ASC),
  CONSTRAINT `fk_rack_emplacement1`
    FOREIGN KEY (`emplacement_idEmplacement`)
    REFERENCES `mydb`.`emplacement` (`idEmplacement`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_rack_emplacementUsine1`
    FOREIGN KEY (`emplacementUsine_idEmplacementUsine`)
    REFERENCES `mydb`.`emplacementUsine` (`idEmplacementUsine`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`chute`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`chute` ;

CREATE TABLE IF NOT EXISTS `mydb`.`chute` (
  `idChute` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `nomChute` VARCHAR(45) NULL,
  `hauteur` VARCHAR(45) NULL,
  `largeur` VARCHAR(45) NULL,
  `numLot` VARCHAR(45) NULL,
  `type_idType` INT NOT NULL,
  `detailRack_idDetailRack` INT NOT NULL,
  `rack_idRack` INT NOT NULL,
  PRIMARY KEY (`idChute`),
  INDEX `fk_chute_type1_idx` (`type_idType` ASC),
  INDEX `fk_chute_rack1_idx` (`rack_idRack` ASC),
  CONSTRAINT `fk_chute_type1`
    FOREIGN KEY (`type_idType`)
    REFERENCES `mydb`.`type` (`idType`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_chute_rack1`
    FOREIGN KEY (`rack_idRack`)
    REFERENCES `mydb`.`rack` (`idRack`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
